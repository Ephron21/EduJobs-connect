{
  "openapi": "3.0.0",
  "info": {
    "title": "EduJobs Connect API",
    "description": "Comprehensive API for the EduJobs Connect platform - connecting Rwandan students with universities and job opportunities",
    "version": "1.0.0",
    "contact": {
      "name": "EduJobs Connect Support",
      "email": "support@edujobsconnect.rw",
      "url": "https://edujobsconnect.rw"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:5000/api",
      "description": "Development server"
    },
    {
      "url": "https://api.edujobsconnect.rw/api",
      "description": "Production server"
    }
  ],
  "security": [
    {
      "BearerAuth": []
    }
  ],
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Authorization header using the Bearer scheme. Enter your token in the text input below."
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439011"
          },
          "firstName": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "example": "Doe"
          },
          "fullName": {
            "type": "string",
            "readOnly": true,
            "example": "John Doe"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "john.doe@example.com"
          },
          "role": {
            "type": "string",
            "enum": ["student", "employer", "admin"],
            "default": "student",
            "example": "student"
          },
          "status": {
            "type": "string",
            "enum": ["active", "inactive", "suspended"],
            "default": "active",
            "example": "active"
          },
          "isEmailVerified": {
            "type": "boolean",
            "example": true
          },
          "lastLogin": {
            "type": "string",
            "format": "date-time",
            "example": "2024-01-15T10:30:00.000Z"
          },
          "profile": {
            "$ref": "#/components/schemas/UserProfile"
          },
          "preferences": {
            "$ref": "#/components/schemas/UserPreferences"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          }
        },
        "required": ["firstName", "lastName", "email"]
      },
      "UserProfile": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string",
            "example": "+250788123456"
          },
          "dateOfBirth": {
            "type": "string",
            "format": "date",
            "example": "1995-06-15"
          },
          "gender": {
            "type": "string",
            "enum": ["male", "female", "other"],
            "example": "male"
          },
          "address": {
            "$ref": "#/components/schemas/Address"
          },
          "bio": {
            "type": "string",
            "maxLength": 500,
            "example": "Computer Science student passionate about technology and innovation."
          },
          "skills": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["JavaScript", "React", "Node.js"]
          },
          "experience": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Experience"
            }
          },
          "education": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Education"
            }
          },
          "resume": {
            "type": "string",
            "format": "uri",
            "example": "/uploads/resumes/john_doe_resume.pdf"
          },
          "avatar": {
            "type": "string",
            "format": "uri",
            "example": "/uploads/avatars/john_doe.jpg"
          }
        }
      },
      "UserPreferences": {
        "type": "object",
        "properties": {
          "emailNotifications": {
            "type": "boolean",
            "default": true,
            "example": true
          },
          "smsNotifications": {
            "type": "boolean",
            "default": false,
            "example": false
          },
          "jobAlerts": {
            "type": "boolean",
            "default": true,
            "example": true
          },
          "universityAlerts": {
            "type": "boolean",
            "default": true,
            "example": true
          },
          "language": {
            "type": "string",
            "default": "en",
            "example": "en"
          },
          "timezone": {
            "type": "string",
            "default": "Africa/Kigali",
            "example": "Africa/Kigali"
          }
        }
      },
      "Address": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string",
            "example": "123 Main Street"
          },
          "city": {
            "type": "string",
            "example": "Kigali"
          },
          "province": {
            "type": "string",
            "example": "Kigali City"
          },
          "country": {
            "type": "string",
            "default": "Rwanda",
            "example": "Rwanda"
          },
          "postalCode": {
            "type": "string",
            "example": "00000"
          }
        }
      },
      "Experience": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "example": "Software Developer Intern"
          },
          "company": {
            "type": "string",
            "example": "Tech Solutions Ltd"
          },
          "location": {
            "type": "string",
            "example": "Kigali, Rwanda"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "example": "2023-06-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "example": "2023-08-31"
          },
          "current": {
            "type": "boolean",
            "default": false,
            "example": false
          },
          "description": {
            "type": "string",
            "example": "Developed web applications using React and Node.js"
          }
        }
      },
      "Education": {
        "type": "object",
        "properties": {
          "institution": {
            "type": "string",
            "example": "University of Rwanda"
          },
          "degree": {
            "type": "string",
            "example": "Bachelor of Computer Science"
          },
          "fieldOfStudy": {
            "type": "string",
            "example": "Computer Science"
          },
          "startDate": {
            "type": "string",
            "format": "date",
            "example": "2020-09-01"
          },
          "endDate": {
            "type": "string",
            "format": "date",
            "example": "2024-06-30"
          },
          "current": {
            "type": "boolean",
            "default": false,
            "example": false
          },
          "gpa": {
            "type": "string",
            "example": "3.8"
          }
        }
      },
      "University": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439011"
          },
          "name": {
            "type": "string",
            "example": "University of Rwanda"
          },
          "description": {
            "type": "string",
            "example": "Leading university in Rwanda offering quality education"
          },
          "type": {
            "type": "string",
            "enum": ["public", "private"],
            "example": "public"
          },
          "established": {
            "type": "integer",
            "example": 1963
          },
          "location": {
            "$ref": "#/components/schemas/UniversityLocation"
          },
          "contact": {
            "$ref": "#/components/schemas/UniversityContact"
          },
          "accreditation": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["HEC", "MINEDUC"]
          },
          "programs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Program"
            }
          },
          "rating": {
            "$ref": "#/components/schemas/UniversityRating"
          },
          "statistics": {
            "$ref": "#/components/schemas/UniversityStatistics"
          },
          "featured": {
            "type": "boolean",
            "default": false,
            "example": true
          },
          "status": {
            "type": "string",
            "enum": ["active", "inactive"],
            "default": "active",
            "example": "active"
          },
          "logo": {
            "type": "string",
            "format": "uri",
            "example": "/uploads/universities/ur_logo.png"
          },
          "images": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          }
        }
      },
      "UniversityLocation": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "example": "KK 737 Street"
          },
          "city": {
            "type": "string",
            "example": "Kigali"
          },
          "province": {
            "type": "string",
            "example": "Kigali City"
          },
          "country": {
            "type": "string",
            "default": "Rwanda",
            "example": "Rwanda"
          },
          "coordinates": {
            "type": "object",
            "properties": {
              "latitude": {
                "type": "number",
                "format": "float",
                "example": -1.9403
              },
              "longitude": {
                "type": "number",
                "format": "float",
                "example": 30.0594
              }
            }
          }
        }
      },
      "UniversityContact": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string",
            "example": "+250788123456"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "info@ur.ac.rw"
          },
          "website": {
            "type": "string",
            "format": "uri",
            "example": "https://ur.ac.rw"
          },
          "admissions": {
            "type": "string",
            "format": "email",
            "example": "admissions@ur.ac.rw"
          }
        }
      },
      "Program": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Computer Science"
          },
          "level": {
            "type": "string",
            "enum": ["bachelor", "master", "phd", "diploma", "certificate"],
            "example": "bachelor"
          },
          "duration": {
            "type": "integer",
            "description": "Duration in years",
            "example": 4
          },
          "description": {
            "type": "string",
            "example": "Comprehensive computer science program"
          },
          "requirements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["High school diploma", "Mathematics background"]
          },
          "tuition": {
            "type": "object",
            "properties": {
              "amount": {
                "type": "number",
                "format": "float",
                "example": 1500000
              },
              "currency": {
                "type": "string",
                "default": "RWF",
                "example": "RWF"
              },
              "perYear": {
                "type": "boolean",
                "default": true,
                "example": true
              }
            }
          },
          "applicationDeadline": {
            "type": "string",
            "format": "date",
            "example": "2024-08-31"
          }
        }
      },
      "UniversityRating": {
        "type": "object",
        "properties": {
          "overall": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 5,
            "example": 4.2
          },
          "academic": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 5,
            "example": 4.5
          },
          "facilities": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 5,
            "example": 4.0
          },
          "campus": {
            "type": "number",
            "format": "float",
            "minimum": 0,
            "maximum": 5,
            "example": 3.8
          },
          "totalReviews": {
            "type": "integer",
            "example": 1250
          }
        }
      },
      "UniversityStatistics": {
        "type": "object",
        "properties": {
          "totalStudents": {
            "type": "integer",
            "example": 25000
          },
          "internationalStudents": {
            "type": "integer",
            "example": 2000
          },
          "facultyMembers": {
            "type": "integer",
            "example": 1500
          },
          "studentFacultyRatio": {
            "type": "number",
            "format": "float",
            "example": 16.7
          },
          "graduationRate": {
            "type": "number",
            "format": "float",
            "example": 85.5
          }
        }
      },
      "Job": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439011"
          },
          "title": {
            "type": "string",
            "example": "Software Developer"
          },
          "company": {
            "$ref": "#/components/schemas/Company"
          },
          "description": {
            "type": "string",
            "example": "We are looking for a skilled software developer..."
          },
          "requirements": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["Bachelor's degree in Computer Science", "3+ years experience", "JavaScript proficiency"]
          },
          "responsibilities": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["Develop web applications", "Collaborate with team", "Code reviews"]
          },
          "employment": {
            "$ref": "#/components/schemas/Employment"
          },
          "location": {
            "$ref": "#/components/schemas/JobLocation"
          },
          "salary": {
            "$ref": "#/components/schemas/Salary"
          },
          "benefits": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["Health insurance", "Remote work", "Professional development"]
          },
          "skills": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "example": ["JavaScript", "React", "Node.js", "MongoDB"]
          },
          "applicationDeadline": {
            "type": "string",
            "format": "date",
            "example": "2024-02-28"
          },
          "featured": {
            "type": "boolean",
            "default": false,
            "example": true
          },
          "status": {
            "type": "string",
            "enum": ["active", "inactive", "expired"],
            "default": "active",
            "example": "active"
          },
          "applicants": {
            "type": "integer",
            "example": 45
          },
          "views": {
            "type": "integer",
            "example": 320
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          }
        }
      },
      "Company": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Tech Solutions Ltd"
          },
          "description": {
            "type": "string",
            "example": "Leading technology company in Rwanda"
          },
          "industry": {
            "type": "string",
            "example": "Information Technology"
          },
          "size": {
            "type": "string",
            "enum": ["startup", "small", "medium", "large", "enterprise"],
            "example": "medium"
          },
          "website": {
            "type": "string",
            "format": "uri",
            "example": "https://techsolutions.rw"
          },
          "logo": {
            "type": "string",
            "format": "uri",
            "example": "/uploads/companies/tech_solutions_logo.png"
          }
        }
      },
      "Employment": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": ["full-time", "part-time", "contract", "internship", "freelance"],
            "example": "full-time"
          },
          "category": {
            "type": "string",
            "enum": ["technology", "finance", "healthcare", "education", "engineering", "marketing", "sales", "other"],
            "example": "technology"
          },
          "level": {
            "type": "string",
            "enum": ["entry", "junior", "mid", "senior", "lead", "executive"],
            "example": "mid"
          },
          "remote": {
            "type": "boolean",
            "default": false,
            "example": false
          },
          "hybrid": {
            "type": "boolean",
            "default": false,
            "example": false
          }
        }
      },
      "JobLocation": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "example": "KG 123 Street"
          },
          "city": {
            "type": "string",
            "example": "Kigali"
          },
          "province": {
            "type": "string",
            "example": "Kigali City"
          },
          "country": {
            "type": "string",
            "default": "Rwanda",
            "example": "Rwanda"
          }
        }
      },
      "Salary": {
        "type": "object",
        "properties": {
          "min": {
            "type": "number",
            "format": "float",
            "example": 800000
          },
          "max": {
            "type": "number",
            "format": "float",
            "example": 1200000
          },
          "currency": {
            "type": "string",
            "default": "RWF",
            "example": "RWF"
          },
          "period": {
            "type": "string",
            "enum": ["hour", "month", "year"],
            "default": "month",
            "example": "month"
          },
          "negotiable": {
            "type": "boolean",
            "default": false,
            "example": true
          }
        }
      },
      "Application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439011"
          },
          "applicant": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439012"
          },
          "job": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439013"
          },
          "university": {
            "type": "string",
            "format": "objectId",
            "example": "507f1f77bcf86cd799439014"
          },
          "type": {
            "type": "string",
            "enum": ["job", "university"],
            "example": "job"
          },
          "status": {
            "type": "string",
            "enum": ["pending", "reviewing", "shortlisted", "interviewed", "accepted", "rejected", "withdrawn"],
            "default": "pending",
            "example": "pending"
          },
          "coverLetter": {
            "type": "string",
            "example": "I am very interested in this position because..."
          },
          "resume": {
            "type": "string",
            "format": "uri",
            "example": "/uploads/applications/resume_123.pdf"
          },
          "documents": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            }
          },
          "notes": {
            "type": "string",
            "example": "Follow up after one week"
          },
          "appliedAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "readOnly": true
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "required": ["email", "password"],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "example": "john.doe@example.com"
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "example": "password123"
          }
        }
      },
      "RegisterRequest": {
        "type": "object",
        "required": ["firstName", "lastName", "email", "password"],
        "properties": {
          "firstName": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "minLength": 2,
            "maxLength": 50,
            "example": "Doe"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "john.doe@example.com"
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "pattern": "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)",
            "example": "Password123"
          },
          "role": {
            "type": "string",
            "enum": ["student", "employer"],
            "default": "student",
            "example": "student"
          }
        }
      },
      "AuthResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "example": "Login successful"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "token": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "refreshToken": {
            "type": "string",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "example": "Validation failed"
          },
          "message": {
            "type": "string",
            "example": "Please check your input data"
          },
          "details": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "field": {
                  "type": "string"
                },
                "message": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "Pagination": {
        "type": "object",
        "properties": {
          "current": {
            "type": "integer",
            "example": 1
          },
          "pages": {
            "type": "integer",
            "example": 5
          },
          "total": {
            "type": "integer",
            "example": 50
          },
          "limit": {
            "type": "integer",
            "example": 10
          }
        }
      }
    }
  },
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Register a new user",
        "description": "Create a new user account with email verification",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Registration successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Validation error or user already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Login user",
        "description": "Authenticate user and return access tokens",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials or account locked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "423": {
            "description": "Account locked",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Refresh access token",
        "description": "Generate new access token using refresh token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["refreshToken"],
                "properties": {
                  "refreshToken": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token refreshed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Token refreshed successfully"
                    },
                    "token": {
                      "type": "string"
                    },
                    "refreshToken": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid or expired refresh token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Send password reset email",
        "description": "Send password reset link to user's email",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email"],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john.doe@example.com"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reset email sent (if account exists)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "If an account with that email exists, a password reset link has been sent"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/reset-password": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Reset password with token",
        "description": "Reset user password using reset token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["token", "password"],
                "properties": {
                  "token": {
                    "type": "string",
                    "example": "reset_token_here"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "pattern": "^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)",
                    "example": "NewPassword123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Password has been reset successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/verify-email": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Verify email address",
        "description": "Verify user email using verification token",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["token"],
                "properties": {
                  "token": {
                    "type": "string",
                    "example": "email_verification_token"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Email verified successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Get current user profile",
        "description": "Get detailed information about the authenticated user",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Logout user",
        "description": "Logout user (client-side token removal)",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Logged out successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Logged out successfully"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/users/profile": {
      "get": {
        "tags": ["Users"],
        "summary": "Get current user profile",
        "description": "Get the authenticated user's profile information",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profile retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Users"],
        "summary": "Update user profile",
        "description": "Update the authenticated user's profile information",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 50
                  },
                  "lastName": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 50
                  },
                  "profile": {
                    "$ref": "#/components/schemas/UserProfile"
                  },
                  "preferences": {
                    "$ref": "#/components/schemas/UserPreferences"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Profile updated successfully"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/universities": {
      "get": {
        "tags": ["Universities"],
        "summary": "Get all universities",
        "description": "Retrieve universities with filtering, search, and pagination",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "type": "integer",
              "default": 12,
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search query for university name or description",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "city",
            "in": "query",
            "description": "Filter by city",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "province",
            "in": "query",
            "description": "Filter by province",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "featured",
            "in": "query",
            "description": "Show only featured universities",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sort order",
            "schema": {
              "type": "string",
              "enum": ["name", "rating", "newest"],
              "default": "name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Universities retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "universities": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/University"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/universities/{id}": {
      "get": {
        "tags": ["Universities"],
        "summary": "Get university by ID",
        "description": "Retrieve detailed information about a specific university",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "University ID",
            "schema": {
              "type": "string",
              "format": "objectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "University retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "university": {
                      "$ref": "#/components/schemas/University"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "University not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/jobs": {
      "get": {
        "tags": ["Jobs"],
        "summary": "Get all jobs",
        "description": "Retrieve jobs with filtering, search, and pagination",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "type": "integer",
              "default": 12,
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "Search query for job title or description",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "Filter by employment category",
            "schema": {
              "type": "string",
              "enum": ["technology", "finance", "healthcare", "education", "engineering", "marketing", "sales", "other"]
            }
          },
          {
            "name": "type",
            "in": "query",
            "description": "Filter by employment type",
            "schema": {
              "type": "string",
              "enum": ["full-time", "part-time", "contract", "internship", "freelance"]
            }
          },
          {
            "name": "level",
            "in": "query",
            "description": "Filter by employment level",
            "schema": {
              "type": "string",
              "enum": ["entry", "junior", "mid", "senior", "lead", "executive"]
            }
          },
          {
            "name": "location",
            "in": "query",
            "description": "Filter by location",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "city",
            "in": "query",
            "description": "Filter by city",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "province",
            "in": "query",
            "description": "Filter by province",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "remote",
            "in": "query",
            "description": "Show only remote jobs",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "featured",
            "in": "query",
            "description": "Show only featured jobs",
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "description": "Sort order",
            "schema": {
              "type": "string",
              "enum": ["newest", "oldest", "salary", "title"],
              "default": "newest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Jobs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "jobs": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Job"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/jobs/{id}": {
      "get": {
        "tags": ["Jobs"],
        "summary": "Get job by ID",
        "description": "Retrieve detailed information about a specific job",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Job ID",
            "schema": {
              "type": "string",
              "format": "objectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Job retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "job": {
                      "$ref": "#/components/schemas/Job"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Job not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/applications": {
      "get": {
        "tags": ["Applications"],
        "summary": "Get user's applications",
        "description": "Retrieve all applications submitted by the authenticated user",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "description": "Filter by application type",
            "schema": {
              "type": "string",
              "enum": ["job", "university"]
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "Filter by application status",
            "schema": {
              "type": "string",
              "enum": ["pending", "reviewing", "shortlisted", "interviewed", "accepted", "rejected", "withdrawn"]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items per page",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Applications retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "applications": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Application"
                      }
                    },
                    "pagination": {
                      "$ref": "#/components/schemas/Pagination"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Applications"],
        "summary": "Submit new application",
        "description": "Submit a new application for a job or university",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["type"],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": ["job", "university"],
                    "example": "job"
                  },
                  "job": {
                    "type": "string",
                    "format": "objectId",
                    "description": "Required if type is 'job'"
                  },
                  "university": {
                    "type": "string",
                    "format": "objectId",
                    "description": "Required if type is 'university'"
                  },
                  "coverLetter": {
                    "type": "string",
                    "example": "I am very interested in this position..."
                  },
                  "documents": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "uri"
                    },
                    "description": "File paths of uploaded documents"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Application submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Application submitted successfully"
                    },
                    "application": {
                      "$ref": "#/components/schemas/Application"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/applications/{id}": {
      "get": {
        "tags": ["Applications"],
        "summary": "Get application by ID",
        "description": "Retrieve detailed information about a specific application",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Application ID",
            "schema": {
              "type": "string",
              "format": "objectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Application retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "application": {
                      "$ref": "#/components/schemas/Application"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Application not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Applications"],
        "summary": "Update application",
        "description": "Update application details or status",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Application ID",
            "schema": {
              "type": "string",
              "format": "objectId"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": ["pending", "reviewing", "shortlisted", "interviewed", "accepted", "rejected", "withdrawn"]
                  },
                  "notes": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Application updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Application updated successfully"
                    },
                    "application": {
                      "$ref": "#/components/schemas/Application"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Applications"],
        "summary": "Withdraw application",
        "description": "Withdraw or delete an application",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Application ID",
            "schema": {
              "type": "string",
              "format": "objectId"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Application withdrawn successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Application withdrawn successfully"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/homepage": {
      "get": {
        "tags": ["Homepage"],
        "summary": "Get homepage content",
        "description": "Retrieve dynamic content for the homepage including featured items and statistics",
        "responses": {
          "200": {
            "description": "Homepage content retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "featuredUniversities": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/University"
                      }
                    },
                    "featuredJobs": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Job"
                      }
                    },
                    "statistics": {
                      "type": "object",
                      "properties": {
                        "universities": {
                          "type": "integer",
                          "example": 50
                        },
                        "jobs": {
                          "type": "integer",
                          "example": 200
                        },
                        "students": {
                          "type": "integer",
                          "example": 1000
                        },
                        "successRate": {
                          "type": "number",
                          "format": "float",
                          "example": 85.5
                        }
                      }
                    },
                    "scholarships": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "amount": {
                            "type": "number",
                            "format": "float"
                          },
                          "deadline": {
                            "type": "string",
                            "format": "date"
                          }
                        }
                      }
                    },
                    "announcements": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": {
                            "type": "string"
                          },
                          "content": {
                            "type": "string"
                          },
                          "priority": {
                            "type": "string",
                            "enum": ["low", "medium", "high"]
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/contact": {
      "post": {
        "tags": ["Contact"],
        "summary": "Submit contact form",
        "description": "Send a message through the contact form",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name", "email", "message"],
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 2,
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john.doe@example.com"
                  },
                  "phone": {
                    "type": "string",
                    "example": "+250788123456"
                  },
                  "subject": {
                    "type": "string",
                    "example": "Question about universities"
                  },
                  "message": {
                    "type": "string",
                    "minLength": 10,
                    "example": "I am interested in learning more about universities in Rwanda..."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Message sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Message sent successfully"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin": {
      "get": {
        "tags": ["Admin"],
        "summary": "Get admin dashboard data",
        "description": "Retrieve statistics and data for admin dashboard",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Admin data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "statistics": {
                      "type": "object",
                      "properties": {
                        "totalUsers": {
                          "type": "integer"
                        },
                        "totalUniversities": {
                          "type": "integer"
                        },
                        "totalJobs": {
                          "type": "integer"
                        },
                        "totalApplications": {
                          "type": "integer"
                        }
                      }
                    },
                    "recentActivity": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string"
                          },
                          "message": {
                            "type": "string"
                          },
                          "timestamp": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication and authorization endpoints"
    },
    {
      "name": "Users",
      "description": "User profile management endpoints"
    },
    {
      "name": "Universities",
      "description": "University listing and search endpoints"
    },
    {
      "name": "Jobs",
      "description": "Job listing and search endpoints"
    },
    {
      "name": "Applications",
      "description": "Application management endpoints"
    },
    {
      "name": "Homepage",
      "description": "Homepage content endpoints"
    },
    {
      "name": "Contact",
      "description": "Contact form endpoints"
    },
    {
      "name": "Admin",
      "description": "Admin dashboard endpoints"
    }
  ]
}
